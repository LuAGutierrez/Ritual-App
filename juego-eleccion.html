<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elecci√≥n mutua ‚Äî Ritual</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            wine: { DEFAULT: '#722F37', dark: '#4a1c23', light: '#8B3A42' },
            nude: { DEFAULT: '#E8D5C4', dark: '#D4A574', muted: '#C9B8A8' },
            ink: '#0f0a0b',
          },
          fontFamily: { display: ['Cormorant Garamond', 'serif'], body: ['Outfit', 'sans-serif'] },
        },
      },
    };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="dark bg-ink text-nude font-body antialiased min-h-screen">
  <header class="fixed top-0 left-0 right-0 z-50 border-b border-white/5 bg-ink/80 backdrop-blur-sm pl-[env(safe-area-inset-left)] pr-[env(safe-area-inset-right)]">
    <nav class="max-w-5xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between">
      <a href="index.html" class="font-display text-2xl font-semibold text-nude touch-target min-w-0">Ritual</a>
      <button type="button" id="btn-volver" class="text-nude-muted hover:text-nude transition text-sm touch-target min-h-[44px] inline-flex items-center bg-transparent border-none cursor-pointer font-inherit">Volver</button>
    </nav>
  </header>

  <main class="pt-24 sm:pt-28 pb-16 sm:pb-24 px-4 sm:px-6 max-w-2xl mx-auto">
    <!-- Paywall: sin suscripci√≥n activa -->
    <div id="paywall-block" class="hidden p-6 sm:p-8 rounded-2xl bg-white/[0.03] border border-wine/40 text-center">
      <p class="font-display text-xl text-nude mb-3">Acceso a las experiencias</p>
      <p id="paywall-block-desc" class="text-nude-muted text-sm mb-6">Para jugar necesit√°s una suscripci√≥n activa. Suscribite y acced√© a las tres experiencias.</p>
      <a href="precios.html#empezar" class="inline-block rounded-full bg-wine px-6 py-3 text-nude font-medium hover:bg-wine-light transition">Ver precios</a>
    </div>

    <div id="game-content">
    <div id="trial-notice" class="hidden mb-6 p-4 rounded-xl bg-wine-dark/30 border border-wine/40 flex items-start gap-3">
      <p class="text-nude text-sm flex-1">Est√°s usando tu <strong>prueba gratuita</strong>. Disfrut√° esta ronda. Para seguir jugando despu√©s, <a href="precios.html#empezar" class="text-wine-light underline hover:no-underline">suscribite</a>.</p>
      <button type="button" data-trial-notice-cerrar aria-label="Cerrar" class="flex-shrink-0 text-nude-muted hover:text-nude p-1">‚úï</button>
    </div>
    <p class="text-wine text-xs sm:text-sm uppercase tracking-[0.2em] mb-2">Experiencia 3</p>
    <h1 class="font-display text-2xl sm:text-3xl md:text-4xl text-nude mb-4">Elecci√≥n mutua</h1>
    <p class="text-nude-muted text-sm sm:text-base mb-8 sm:mb-10">Cada uno elige una opci√≥n sin que el otro vea. Si coincid√≠s, desbloquean un premio especial.</p>

    <!-- Paso 1: Persona 1 elige -->
    <div id="paso-1">
      <p class="text-nude-muted text-sm mb-4">Persona 1: eleg√≠ una opci√≥n (la otra no mira).</p>
      <div class="grid grid-cols-2 gap-3 sm:gap-4" id="opciones-1"></div>
      <button type="button" id="btn-listo-1" class="hidden mt-6 touch-target rounded-full bg-wine px-6 py-3 min-h-[48px] text-nude text-sm w-full sm:w-auto">Listo, que elija la otra persona</button>
    </div>

    <!-- Paso 2: Persona 2 elige -->
    <div id="paso-2" class="hidden">
      <p class="text-nude-muted text-sm mb-4">Persona 2: eleg√≠ una opci√≥n (sin mirar lo que eligi√≥ la otra).</p>
      <div class="grid grid-cols-2 gap-3 sm:gap-4" id="opciones-2"></div>
      <button type="button" id="btn-revelar" class="mt-6 touch-target rounded-full bg-wine px-6 py-3 min-h-[48px] text-nude text-sm w-full sm:w-auto">Revelar</button>
    </div>

    <!-- Resultado -->
    <div id="paso-3" class="hidden">
      <div class="p-6 sm:p-8 rounded-2xl bg-white/[0.03] border border-white/5 mb-6">
        <p class="text-wine text-sm uppercase tracking-wider mb-4">Elecciones</p>
        <p class="text-nude-muted text-sm">Persona 1: <span id="eleccion-1" class="text-nude"></span></p>
        <p class="text-nude-muted text-sm mt-1">Persona 2: <span id="eleccion-2" class="text-nude"></span></p>
      </div>
      <div id="resultado-coinciden" class="hidden p-6 sm:p-8 rounded-2xl border border-wine/50 bg-wine-dark/20">
        <p class="text-wine text-sm uppercase tracking-wider mb-2 animate-pulse">üî• Coincidieron</p>
        <p class="font-display text-lg sm:text-xl text-nude mb-4" id="texto-premio"></p>
        <p class="text-nude-muted text-sm">Hacelo cuando les apetezca. No hay prisa.</p>
      </div>
      <div id="resultado-no-coinciden" class="hidden p-6 sm:p-8 rounded-2xl bg-white/[0.03] border border-white/5">
        <p class="text-nude-muted text-sm sm:text-base">No coincidieron esta vez. Pod√©is jugar otra ronda o probar otra experiencia.</p>
      </div>
      <button type="button" id="btn-otra" class="mt-6 touch-target rounded-full border border-nude-muted/40 px-6 py-3 min-h-[48px] text-nude text-sm hover:border-nude transition w-full sm:w-auto">Otra ronda</button>
    </div>
    </div>
  </main>

  <footer class="py-6 sm:py-8 px-4 sm:px-6 border-t border-white/5 text-center text-nude-muted text-sm">
    <p>Ritual ‚Äî Momentos que acercan.</p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/supabase-config.js"></script>
  <script src="js/app.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/datos-juegos.js"></script>
  <script src="js/game-gate.js"></script>
  <script src="js/juego-eleccion.js"></script>
  <script>(function(){ var b = document.getElementById('btn-volver'); if (b) b.addEventListener('click', function(){ history.back(); }); })();</script>
</body>
</html>
